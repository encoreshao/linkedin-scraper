#!/usr/bin/env ruby

require_relative '../lib/linkedin-scraper'

if (ARGV[0].match(/^https?\:\/\/\w+\.linkedin\.com\//) == nil)
	puts "[ERROR] - Please make sure that this domain is linkedin.com"
else
	result = if (ARGV[0].match(/^https?\:\/\/\w+\.linkedin\.com\/(company|companies)\/((\w|\-|\&|\.)+)/) != nil) 
		Linkedin::Company.new(ARGV[0])
	else
		Linkedin::Profile.new(ARGV[0])
	end
	puts JSON.pretty_generate JSON.parse(result.to_json)
end